const $form=document.querySelector(".form"),$submitFormButton=document.querySelector(".js-submitButton"),$errorMessage=document.getElementsByClassName("form__item-error-text"),$listFields=document.getElementsByClassName(".form__list"),$formListInputs=document.querySelector(".form__list"),$successIcons=document.querySelectorAll(".form__item-icon-success"),HIDE_ICON=0,SHOW_ICON=1;function init(){$formListInputs.addEventListener("keyup",(({target:e})=>{const t=e.parentElement;"email"===e.attributes[1].nodeValue?(e.parentElement.children[3].style.opacity=""+(isEmailValid(e.value)?1:0),t.querySelector(".form__item-error-text").textContent="",t.querySelector(".form__item-icon-failure").style.opacity=0):(e.parentElement.children[3].style.opacity=""+(isLengthValid(e.value)?1:0),t.querySelector(".form__item-error-text").textContent="",t.querySelector(".form__item-icon-failure").style.opacity=0)})),$form.addEventListener("submit",onFormSubmit)}function onFormSubmit(e){e.preventDefault();const t=document.querySelector(".js-form__field-name"),r=document.querySelector(".js-form__field-email"),o=document.querySelector(".js-form__field-subject"),n=document.querySelector(".js-form__field-message");validateInputOnSubmit(t,(()=>isLengthValid(t.value)),"minimum 3 characters required"),validateInputOnSubmit(r,(()=>isEmailValid(r.value)),"email is invalid"),validateInputOnSubmit(o,(()=>isLengthValid(o.value)),"minimum 3 characters required"),validateInputOnSubmit(n,(()=>isLengthValid(n.value)),"minimum 3 characters required");const{name:i,subject:s,email:c,description:m}=Object.fromEntries(new FormData($form).entries()),l={name:i,subject:s,email:c,description:m},u=document.querySelectorAll(".form__item-error-text");!Array.from(u).find((e=>""!==e.textContent))&&(sendMessage(l),resetIcons($successIcons))}function sendMessage(e){emailjs.send(process.env.SERVICE_ID,process.env.TEMPLATE_ID,e).then((e=>{200===e.status&&(showSuccessModal(),$form.reset())})).catch((e=>showErrorModal(e)))}function validateInputOnSubmit(e,t,r){const o=e.parentElement.querySelector(".form__item-error-text"),n=setErrorOnSubmit(e,t,r)||[];n.length&&(o.textContent=n.length?n[0].message:""),n.length||setSuccessOnSubmit(e)}function setErrorOnSubmit(e,t,r){const o=e.parentElement,n=o.querySelector(".form__item-icon-failure"),i=o.querySelector(".form__item-icon-success"),s=[];return e.value||s.push({message:"field is required"}),t()||s.push({message:r}),i.style.opacity=0,n.style.opacity=1,s}function setSuccessOnSubmit(e){const t=e.parentElement,r=t.querySelector(".form__item-icon-failure"),o=t.querySelector(".form__item-icon-success");t.querySelector(".form__item-error-text").textContent="",r.style.opacity=0,o.style.opacity=1}function showSuccessModal(){Swal.fire({position:"center",icon:"success",title:"Your  message has been sent",text:"I will respond soon ðŸ‘‹",timer:3e3,color:"#2c2323",confirmButtonColor:"green"})}function showErrorModal(e){Swal.fire({icon:"error",title:"Email has not been sent ðŸ˜•",text:`${e.text?e.text:"Something went wront, please send it again"}`,confirmButtonColor:"crimson"})}init();const isEmailValid=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());function isLengthValid(e){return e.length>=3}function resetIcons(e){return Array.from(e).forEach((e=>e.style.opacity=0))}
//# sourceMappingURL=index.7a6e0f21.js.map
