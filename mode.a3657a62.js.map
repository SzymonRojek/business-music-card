{"version":3,"sources":["js/mode.js"],"names":["STORAGE_KEY","COLOR_MODE_KEY","$modeToggle","document","querySelector","$modeToggleText","getCSSCustomProp","propKey","response","getComputedStyle","documentElement","getPropertyValue","length","replace","trim","applySetting","passedSetting","currentSetting","localStorage","getItem","setAttribute","setSwitcherLabel","textContent","toggleSetting","console","log","setItem","addEventListener"],"mappings":";AAAA,IAAMA,EAAc,OACdC,EAAiB,eAEjBC,EAAcC,SAASC,cAAc,sBACrCC,EAAkBF,SAASC,cAAc,sBAEzCE,EAAmB,SAACC,GACpBC,IAAAA,EAAWC,iBAAiBN,SAASO,iBAAiBC,iBACxDJ,GAOKC,OAJHA,EAASI,SACXJ,EAAWA,EAASK,QAAQ,MAAO,IAAIC,QAGlCN,GAGHO,EAAe,SAACC,GAChBC,IAAAA,EAAiBD,GAAiBE,aAAaC,QAAQnB,GAEvDiB,IACFd,SAASO,gBAAgBU,aACvB,yBACAH,GAEFI,EAAiBJ,KAIfI,EAAmB,SAACJ,GACxBZ,EAAgBiB,YACdL,GAAAA,OAAmB,SAAnBA,EAA4B,QAAU,OADxC,UAKIM,EAAgB,WAChBN,IAAAA,EAAiBC,aAAaC,QAAQnB,GAElCiB,OAAAA,GACD,KAAA,KACHA,EACuC,SAArCX,EAAiBL,GAA6B,QAAU,OAC1D,MACG,IAAA,QACHgB,EAAiB,OACjB,MACG,IAAA,OACHA,EAAiB,QACjB,MACF,QACEO,QAAQC,IAAI,oBAKTR,OAFPC,aAAaQ,QAAQ1B,EAAaiB,GAE3BA,GAGTf,EAAYyB,iBAAiB,QAAS,WAAMZ,OAAAA,EAAaQ,OAEzDR","file":"mode.a3657a62.js","sourceRoot":"../src","sourcesContent":["const STORAGE_KEY = \"mode\";\nconst COLOR_MODE_KEY = \"--color-mode\";\n\nconst $modeToggle = document.querySelector(\".js-switcher__mode\");\nconst $modeToggleText = document.querySelector(\".js-switcher__text\");\n\nconst getCSSCustomProp = (propKey) => {\n  let response = getComputedStyle(document.documentElement).getPropertyValue(\n    propKey\n  );\n\n  if (response.length) {\n    response = response.replace(/\\\"/g, \"\").trim();\n  }\n\n  return response;\n};\n\nconst applySetting = (passedSetting) => {\n  let currentSetting = passedSetting || localStorage.getItem(STORAGE_KEY);\n\n  if (currentSetting) {\n    document.documentElement.setAttribute(\n      \"data-user-color-scheme\",\n      currentSetting\n    );\n    setSwitcherLabel(currentSetting);\n  }\n};\n\nconst setSwitcherLabel = (currentSetting) => {\n  $modeToggleText.textContent = `${\n    currentSetting === \"dark\" ? \"light\" : \"dark\"\n  } mode`;\n};\n\nconst toggleSetting = () => {\n  let currentSetting = localStorage.getItem(STORAGE_KEY);\n\n  switch (currentSetting) {\n    case null:\n      currentSetting =\n        getCSSCustomProp(COLOR_MODE_KEY) === \"dark\" ? \"light\" : \"dark\";\n      break;\n    case \"light\":\n      currentSetting = \"dark\";\n      break;\n    case \"dark\":\n      currentSetting = \"light\";\n      break;\n    default:\n      console.log(\"something wrong!\");\n  }\n\n  localStorage.setItem(STORAGE_KEY, currentSetting);\n\n  return currentSetting;\n};\n\n$modeToggle.addEventListener(\"click\", () => applySetting(toggleSetting()));\n\napplySetting();\n"]}