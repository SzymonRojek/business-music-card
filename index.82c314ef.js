const e=document.querySelector("[data-form]"),t=document.querySelectorAll("[data-error]"),s=document.querySelectorAll("[data-icon]"),a={isLengthValid:(e,t)=>e.trim().length>0||{message:t},isMinLength:(e,t,s)=>e.trim().length>=t||{message:s},isOverMaxLength:(e,t,s)=>e.trim().length<=t||{message:s},isEmailValid(e,t){const s=e.trim();return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(s).toLowerCase())||{message:t}}};new class{constructor(e,t){this.form=e,this.validationCallback=t,this.init()}init(){this.addListenerOnChange(),this.addListenerOnSubmit()}addListenerOnChange(){this.form.addEventListener("keyup",(e=>{const t=Object.fromEntries(new FormData(this.form).entries()),s=this.validationCallback(t)[e.target.attributes.name.value].find((e=>e.message)),a=e.target.parentElement,i=a.querySelector("[data-error]"),n=a.querySelector("[data-icon]");i.textContent=s?.message||"",this.toggleIcon(s,n)}),!1)}addListenerOnSubmit(){this.form.addEventListener("submit",(a=>{a.preventDefault();const i=Object.fromEntries(new FormData(this.form).entries()),n=this.validationCallback(i);Object.values(n).map(((e,a)=>{const i=t[a],n=s[a],r=e.find((e=>e.message));i.textContent=r?.message||"",this.toggleIcon(r,n)}));Object.values(n).flat(1/0).find((e=>e.message))||(Swal.fire({position:"center",icon:"success",title:"Your  message has been sent",text:"I will respond soon ðŸ‘‹",timer:3e3,color:"#2c2323",confirmButtonColor:"green"}),e.reset(),this.resetIcons(s))}),!1)}toggleIcon(e,t){const s=["fa-check","form__item__icon-success"],a=["fa-exclamation-circle","form__item__icon-failure"];e?.message?(t.classList.add(...a),t.classList.remove(...s)):(t.classList.add(...s),t.classList.remove(...a)),t.style.opacity=1}resetIcons(e){return e.forEach((e=>e.style.opacity=0))}}(e,(function(e){const{name:t,email:s,subject:i,description:n}=e;return{name:[a.isLengthValid(t,"name is required"),a.isMinLength(t,3,"must be at least 3 characters"),a.isOverMaxLength(t,15,"must be maximum 15 characters")],email:[a.isLengthValid(s,"email is required"),a.isMinLength(s,3,"must be at least 3 characters"),a.isEmailValid(s,"email is not valid - has to contains @ and .")],subject:[a.isLengthValid(i,"subject is required"),a.isMinLength(i,3,"must be at least 3 characters"),a.isOverMaxLength(i,15,"must be maximum 15 characters")],description:[a.isLengthValid(n,"description is required"),a.isMinLength(n,3,"must be at least 3 characters")]}}));document.querySelector("[data-area]").addEventListener("keyup",(function({target:e}){e.style.height="auto";const t=e.scrollHeight;e.style.height=`${t}px`}));
//# sourceMappingURL=index.82c314ef.js.map
