const e={isLengthValid:(e,t)=>e.length>0||{message:t},isMinLength:(e,t,s)=>e.length>=t||{message:s},isOverMaxLength:(e,t,s)=>e.length<=t||{message:s},isEmailValid:(e,t)=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())||{message:t}},t={getErrors:({name:t,email:s,subject:a,description:r})=>({name:[e.isLengthValid(t,"name is required"),e.isMinLength(t,3,"must be at least 3 characters"),e.isOverMaxLength(t,15,"must be maximum 15 characters")],email:[e.isLengthValid(s,"email is required"),e.isMinLength(s,3,"must be at least 3 characters"),e.isEmailValid(s,"email is not valid - has to contains @ and .")],subject:[e.isLengthValid(a,"subject is required"),e.isMinLength(a,3,"must be at least 3 characters"),e.isOverMaxLength(a,15,"must be maximum 15 characters")],description:[e.isLengthValid(r,"description is required"),e.isMinLength(r,3,"must be at least 3 characters")]})},s=document.querySelector("[data-form]"),a=document.querySelectorAll("[data-error]"),r=document.querySelectorAll("[data-icon]");class i{constructor(e){this.errors=e}displayErrorsOnChange(e){const t=e.target.attributes.name.value,s=this.errors[t].find((e=>e.message)),a=e.target.parentElement,r=a.querySelector("[data-error]"),i=a.querySelector("[data-icon]");r.textContent=s?.message||"",this.toggleIcon(s,i)}displayErrorsOnSubmit(){Object.values(this.errors).forEach(((e,t)=>{const s=a[t],i=r[t],n=e.find((e=>e.message));s.textContent=n?.message||"",this.toggleIcon(n,i)}));Object.values(this.errors).flat(1/0).find((e=>e.message))||(this.showSuccessModal(),s.reset(),this.resetIcons(r))}toggleIcon(e,t){const s=["fa-check","form__item__icon-success"],a=["fa-exclamation-circle","form__item__icon-failure"];e?.message?(t.classList.add(...a),t.classList.remove(...s)):(t.classList.add(...s),t.classList.remove(...a)),t.style.opacity=1}resetIcons(e){return e.forEach((e=>e.style.opacity=0))}showSuccessModal(){Swal.fire({position:"center",icon:"success",title:"Your  message has been sent",text:"I will respond soon ðŸ‘‹",timer:3e3,color:"#2c2323",confirmButtonColor:"green"})}}const n=document.querySelector("[data-form]");new class{constructor(e,t){this.form=e,this.validationData=t,this.init()}init(){this.addListenerOnChange(),this.addListenerOnSubmit()}addListenerOnChange(){this.form.addEventListener("keyup",(e=>{const t=this.getFormData(this.form),s=this.validationData.getErrors(t);new i(s).displayErrorsOnChange(e,s)}),!1)}addListenerOnSubmit(){this.form.addEventListener("submit",(e=>{e.preventDefault();const t=this.getFormData(this.form),s=this.validationData.getErrors(t);new i(s).displayErrorsOnSubmit(s)}),!1)}getFormData(e){return Object.fromEntries(new FormData(e).entries())}}(n,t);document.querySelector("[data-area]").addEventListener("keyup",(function({target:e}){e.style.height="auto";const t=e.scrollHeight;e.style.height=`${t}px`}));
//# sourceMappingURL=index.7f44628e.js.map
